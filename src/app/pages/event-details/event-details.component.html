@if (workItem(); as item) {
<section @contentFadeSlide>
    
    <img class="w-full h-auto max-h-96 object-cover mt-20" [src]="item.imageUrl" [alt]="item.title | translate">

    <div class=" py-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
        <header class="mb-8 md:mb-12">
            <p class="text-xs font-semibold uppercase tracking-wider text-gray-500 mb-2">
                {{ item.category | translate }}
            </p>
            <h1 class="text-3xl md:text-4xl font-light text-gray-900 mb-3 leading-tight">
                {{ item.title | translate }}
            </h1>
            <p class="text-base text-gray-600 mb-6">
                {{ item.date | translate }}
            </p>
            <div class="border-b border-gray-200 pb-6 mb-8">
                <p class="text-base text-gray-700">
                    {{ item.description | translate }}
                </p>
            </div>
        </header>

        <div class="flex flex-col md:flex-row md:gap-12 lg:gap-16">
            <aside class="w-full md:w-12 flex-shrink-0 mb-8 md:mb-0">
                <!-- ... أيقونات المشاركة ... -->
                <div
                    class="flex flex-row md:flex-col gap-5 md:gap-6 justify-start md:justify-start items-center md:items-start">
                    <a href="#" aria-label="Share on LinkedIn"
                        class="text-gray-400 hover:text-gray-600 transition-colors duration-200 text-xl">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a href="#" aria-label="Share on Facebook"
                        class="text-gray-400 hover:text-gray-600 transition-colors duration-200 text-xl">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" aria-label="Share on X"
                        class="text-gray-400 hover:text-gray-600 transition-colors duration-200 text-xl">
                        <i class="fab fa-x-twitter"></i>
                    </a>
                    <a href="#" aria-label="Share via Email"
                        class="text-gray-400 hover:text-gray-600 transition-colors duration-200 text-xl">
                        <i class="fas fa-envelope"></i>
                    </a>
                </div>
            </aside>

            <article class="flex-grow">
                <div class="prose prose-lg text-gray-800 max-w-none leading-relaxed">
                    <!-- 3. التحقق من item.details (إذا كانت اختيارية) -->
                    @if (item.details) {
                    <p>{{ item.details | translate }}</p>
                    } @else {
                    <p class="text-gray-500 italic">No additional details available for this item.</p>
                    }
                </div>
            </article>
        </div>

        <div class="mt-12 text-center md:text-start">
            <a routerLink="/events"
                class="inline-block px-6 py-2 border border-transparent text-base font-medium rounded-md text-white bg-[#a39669] hover:bg-[#696144] transition-colors duration-200">
                ← Back to Events List
            </a>
        </div>
    </div>
   
</section>
}






@if (relatedItems().length > 0) {
    <section aria-labelledby="related-heading"
        class="mt-16 md:mt-20 pt-10 border-t border-gray-200 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" @relatedFadeSlide>
        <div class="flex flex-col md:flex-row items-start">
            <div class="w-full md:w-auto flex flex-row md:flex-col items-center mb-6 md:mb-0">
                 <div class="hidden md:inline-flex items-stretch h-full">
                    <div class="flex items-center me-1">
                        <h2 id="related-heading"
                            class="text-xl md:text-2xl font-semibold uppercase text-gray-500 tracking-widest whitespace-nowrap [writing-mode:vertical-rl] transform rotate-180">
                            Related
                        </h2>
                    </div>
                    <div class="w-px bg-gray-300"></div>
                </div>
                 <div class="w-full flex flex-row items-center md:hidden">
                     <h3 class="text-lg font-semibold text-gray-700 me-4">Related Articles</h3>
                     <div class="h-px bg-gray-300 flex-grow"></div>
                 </div>
            </div>
            <div
                class="p-3 sm:p-4 md:p-5 mb-12 md:mb-16 lg:mb-20 flex-grow grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 sm:gap-8 md:gap-10 lg:gap-12 md:ms-8 lg:ms-10 items-start bg-gray-100 rounded-md">
    
            @for (relatedItem of relatedItems(); track relatedItem.id) {
                <div role="button"
                     tabindex="0"
                     (click)="navigateToRelated(relatedItem.id)"
                     (keydown.enter)="navigateToRelated(relatedItem.id)"
                     class="block w-full bg-white p-1 rounded shadow hover:shadow-lg transition-shadow duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#a39669] cursor-pointer"> <!-- <<< أضف > هنا -->
  
                    <img [src]="relatedItem.imageUrl" [alt]="relatedItem.title | translate"
                        class="w-full h-40 object-cover mb-3 rounded-sm pointer-events-none">
                    <div class="space-y-0.5 text-sm px-1 pb-1 pointer-events-none">
                        <p class="font-semibold text-gray-900 truncate">{{ relatedItem.title | translate }}</p>
                        <p class="text-xs text-gray-600">{{ relatedItem.category | translate }}</p>
                    </div>
                </div> 
              }
    
            </div>
        </div> 
    </section>
    } 
    
